# ************************************************************************************************
# Warning: YAML source code for Canvas Apps is in preview. The schema is being actively developed.
# Content may be incomplete and subject to change.
# This file is read-only and should only be used to review changes made within Power Apps Studio.
# This file isn't used when loading the app. External editing, merging and conflict resolution are
# not supported.
# 
# For more information, visit https://go.microsoft.com/fwlink/?linkid=2292623
# ************************************************************************************************
Screens:
  Analytics:
    Properties:
      BackgroundImage: ='termbuddy-background3'
      ImagePosition: =ImagePosition.Fill
    Children:
      - Analytcs Main Container:
          Control: GroupContainer@1.3.0
          Variant: AutoLayout
          Properties:
            Height: =Parent.Height
            LayoutDirection: =LayoutDirection.Horizontal
            LayoutGap: =nfTheming.layoutGap
            PaddingBottom: =nfTheming.layoutGap
            PaddingLeft: =nfTheming.layoutGap
            PaddingRight: =nfTheming.layoutGap
            PaddingTop: =nfTheming.layoutGap
            Width: =Parent.Width
          Children:
            - Analytcs Menu Container:
                Control: GroupContainer@1.3.0
                Variant: AutoLayout
                Properties:
                  Fill: =nfTheming.backFill
                  FillPortions: =0
                  LayoutDirection: =LayoutDirection.Vertical
                  LayoutGap: =nfTheming.layoutGap
                  LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                  LayoutMinHeight: =nfTheming.menuWidth
                  LayoutMinWidth: =100
                  RadiusBottomLeft: =nfTheming.radius
                  RadiusBottomRight: =nfTheming.radius
                  RadiusTopLeft: =nfTheming.radius
                  RadiusTopRight: =nfTheming.radius
                  Width: =100
                Children:
                  - Analytcs menu component:
                      Control: CanvasComponent
                      ComponentName: menu component
                      Properties:
                        Height: =500 //Component1.parentHeight
                        Width: =100
                        currentScreen: =App.ActiveScreen.Name
                        iconColor: =nfColor.Accent2
                        iconColorCurrent: =nfColor.Primary
                        logo: =logo
                        menuIcons: =nfMenu
                        parentHeight: =100
            - Analytcs Prompt Container:
                Control: GroupContainer@1.3.0
                Variant: AutoLayout
                Properties:
                  DropShadow: =DropShadow.None
                  Fill: =Color.Transparent
                  LayoutDirection: =LayoutDirection.Vertical
                  LayoutGap: =nfTheming.layoutGap
                  RadiusBottomLeft: =0
                  RadiusBottomRight: =0
                  RadiusTopLeft: =0
                  RadiusTopRight: =0
                  Width: =App.Width - 3 * nfTheming.layoutGap - 100
                Children:
                  - Analytcs screen Header:
                      Control: GroupContainer@1.3.0
                      Variant: AutoLayout
                      Properties:
                        DropShadow: =DropShadow.None
                        FillPortions: =0
                        Height: =100
                        LayoutDirection: =LayoutDirection.Horizontal
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Width: =Parent.Width
                      Children:
                        - Analytcs header component:
                            Control: CanvasComponent
                            ComponentName: screen header
                            Properties:
                              Height: =100
                              Width: ='Analytcs header component'.parentWidth
                              parentWidth: =Parent.Width
                              screenName: ="Analytics and Insights"
                  - Analytcs screen - Main part:
                      Control: GroupContainer@1.3.0
                      Variant: AutoLayout
                      Properties:
                        Fill: =nfTheming.backFill
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                        RadiusBottomLeft: =nfTheming.radius
                        RadiusBottomRight: =nfTheming.radius
                        RadiusTopLeft: =nfTheming.radius
                        RadiusTopRight: =nfTheming.radius
                        Width: =Parent.Width
                      Children:
                        - Analytcs screen - Metrics container:
                            Control: GroupContainer@1.3.0
                            Variant: AutoLayout
                            Properties:
                              AlignInContainer: =AlignInContainer.SetByContainer
                              DropShadow: =DropShadow.None
                              FillPortions: =0
                              Height: =141
                              LayoutDirection: =LayoutDirection.Horizontal
                              LayoutGap: =10
                              LayoutMinHeight: =161
                              PaddingBottom: =nfTheming.controlPadding
                              PaddingLeft: =nfTheming.controlPadding
                              PaddingRight: =nfTheming.controlPadding
                              PaddingTop: =nfTheming.controlPadding
                              RadiusBottomLeft: =0
                              RadiusBottomRight: =0
                              RadiusTopLeft: =0
                              RadiusTopRight: =0
                              Width: =Parent.Width
                            Children:
                              - Analytics screen - Messages Container:
                                  Control: GroupContainer@1.3.0
                                  Variant: ManualLayout
                                  Properties:
                                    DropShadow: =DropShadow.None
                                    FillPortions: =0
                                    Height: =Parent.Height - 2 * nfTheming.controlPadding
                                    LayoutMinHeight: =64
                                    LayoutMinWidth: =10
                                    RadiusBottomLeft: =0
                                    RadiusBottomRight: =0
                                    RadiusTopLeft: =0
                                    RadiusTopRight: =0
                                    Width: =70 + 30
                                  Children:
                                    - Analytics screen - Messages header:
                                        Control: Text@0.0.50
                                        Properties:
                                          Align: ='TextCanvas.Align'.Center
                                          Font: =Font.'Lato Black'
                                          FontColor: =nfColor.Primary
                                          Height: =25
                                          PaddingBottom: =0
                                          PaddingLeft: =0
                                          PaddingRight: =0
                                          PaddingTop: =0
                                          Text: =Index(nfAppData.analyticsMetrics, 2).name
                                          VerticalAlign: =VerticalAlign.Middle
                                          Width: =70
                                          Wrap: =false
                                    - Analytics screen - Messages value:
                                        Control: Text@0.0.50
                                        Properties:
                                          Align: ='TextCanvas.Align'.Center
                                          AutoHeight: =true
                                          Font: =Font.Lato
                                          PaddingBottom: =0
                                          PaddingLeft: =nfTheming.metricsPadding
                                          PaddingRight: =0
                                          PaddingTop: =0
                                          Text: |-
                                            =First(
                                                Filter(
                                                    udfMetricsCount('Analytics screen - Period dropdown'.Selected.days, 'Analytics screen - Period dropdown'.Selected.startDate, 'Analytics screen - Period dropdown'.Selected.endDate),
                                                    metric = "Messages"
                                                )
                                            ).count
                                          Width: =70
                                          Y: ='Analytics screen - Messages header'.Y + 'Analytics screen - Messages header'.Height
                                    - Analytics screen - Messages info:
                                        Control: Image@2.2.3
                                        Properties:
                                          Height: =15
                                          Image: "=\"data:image/svg+xml;utf8, \"&EncodeUrl(\"\r\n    \r\n    <svg xmlns='http://www.w3.org/2000/svg' width='10' height='10' fill='\" & nfColor.Regular & \"' viewBox='0 0 16 16'>\r\n\r\n    <path d='m9.708 6.075-3.024.379-.108.502.595.108c.387.093.464.232.38.619l-.975 4.577c-.255 1.183.14 1.74 1.067 1.74.72 0 1.554-.332 1.933-.789l.116-.549c-.263.232-.65.325-.905.325-.363 0-.494-.255-.402-.704zm.091-2.755a1.32 1.32 0 1 1-2.64 0 1.32 1.32 0 0 1 2.64 0'/>\r\n\r\n    </svg>\r\n\r\n\")"
                                          Tooltip: ="Total number of messages exchanged during the selected period."
                                          Width: =15
                                          X: ='Analytics screen - Messages header'.X + 'Analytics screen - Messages header'.Width
                                          Y: =3
                              - Analytics screen - Quiz Container:
                                  Control: GroupContainer@1.3.0
                                  Variant: ManualLayout
                                  Properties:
                                    DropShadow: =DropShadow.None
                                    FillPortions: =0
                                    Height: =Parent.Height - 2 * nfTheming.controlPadding
                                    LayoutMinHeight: =64
                                    LayoutMinWidth: =10
                                    RadiusBottomLeft: =0
                                    RadiusBottomRight: =0
                                    RadiusTopLeft: =0
                                    RadiusTopRight: =0
                                    Width: =57 + 30
                                  Children:
                                    - Analytics screen - Quiz header:
                                        Control: Text@0.0.50
                                        Properties:
                                          Align: ='TextCanvas.Align'.Center
                                          Font: =Font.'Lato Black'
                                          FontColor: =nfColor.Primary
                                          Height: =25
                                          PaddingBottom: =0
                                          PaddingLeft: =0
                                          PaddingRight: =0
                                          PaddingTop: =0
                                          Text: =Index(nfAppData.analyticsMetrics, 3).name
                                          VerticalAlign: =VerticalAlign.Middle
                                          Width: =57
                                          Wrap: =false
                                    - Analytics screen - Quiz value:
                                        Control: Text@0.0.50
                                        Properties:
                                          Align: ='TextCanvas.Align'.Center
                                          AutoHeight: =true
                                          Font: =Font.Lato
                                          PaddingBottom: =0
                                          PaddingLeft: |+
                                            =0
                                          PaddingRight: =0
                                          PaddingTop: =0
                                          Text: |-
                                            =First(
                                                Filter(
                                                    udfMetricsCount('Analytics screen - Period dropdown'.Selected.days, 'Analytics screen - Period dropdown'.Selected.startDate, 'Analytics screen - Period dropdown'.Selected.endDate),
                                                    metric = "Quizes"
                                                )
                                            ).count
                                          Width: =57
                                          Y: ='Analytics screen - Quiz header'.Y + 'Analytics screen - Quiz header'.Height
                                    - Analytics screen - Quiz info:
                                        Control: Image@2.2.3
                                        Properties:
                                          Height: =15
                                          Image: "=\"data:image/svg+xml;utf8, \"&EncodeUrl(\"\r\n    \r\n    <svg xmlns='http://www.w3.org/2000/svg' width='10' height='10' fill='\" & nfColor.Regular & \"' viewBox='0 0 16 16'>\r\n\r\n    <path d='m9.708 6.075-3.024.379-.108.502.595.108c.387.093.464.232.38.619l-.975 4.577c-.255 1.183.14 1.74 1.067 1.74.72 0 1.554-.332 1.933-.789l.116-.549c-.263.232-.65.325-.905.325-.363 0-.494-.255-.402-.704zm.091-2.755a1.32 1.32 0 1 1-2.64 0 1.32 1.32 0 0 1 2.64 0'/>\r\n\r\n    </svg>\r\n\r\n\")"
                                          Tooltip: ="Number of quizzes initiated during the selected period."
                                          Width: =15
                                          X: ='Analytics screen - Quiz header'.X + 'Analytics screen - Quiz header'.Width
                                          Y: =3
                              - Analytics screen - Examples Container:
                                  Control: GroupContainer@1.3.0
                                  Variant: ManualLayout
                                  Properties:
                                    DropShadow: =DropShadow.None
                                    FillPortions: =0
                                    Height: =Parent.Height - 2 * nfTheming.controlPadding
                                    LayoutMinHeight: =64
                                    LayoutMinWidth: =10
                                    RadiusBottomLeft: =0
                                    RadiusBottomRight: =0
                                    RadiusTopLeft: =0
                                    RadiusTopRight: =0
                                    Width: =68 + 30
                                  Children:
                                    - Analytics screen - Examples header:
                                        Control: Text@0.0.50
                                        Properties:
                                          Align: ='TextCanvas.Align'.Center
                                          Font: =Font.'Lato Black'
                                          FontColor: =nfColor.Primary
                                          Height: =25
                                          PaddingBottom: =0
                                          PaddingLeft: =0
                                          PaddingRight: =0
                                          PaddingTop: =0
                                          Text: =Index(nfAppData.analyticsMetrics, 4).name
                                          VerticalAlign: =VerticalAlign.Middle
                                          Width: =68
                                          Wrap: =false
                                    - Analytics screen - Examples value:
                                        Control: Text@0.0.50
                                        Properties:
                                          Align: ='TextCanvas.Align'.Center
                                          AutoHeight: =true
                                          Font: =Font.Lato
                                          PaddingBottom: =0
                                          PaddingLeft: =0
                                          PaddingRight: =0
                                          PaddingTop: =0
                                          Text: |-
                                            =First(
                                                Filter(
                                                    udfMetricsCount('Analytics screen - Period dropdown'.Selected.days, 'Analytics screen - Period dropdown'.Selected.startDate, 'Analytics screen - Period dropdown'.Selected.endDate),
                                                    metric = "Examples"
                                                )
                                            ).count
                                          Width: =68
                                          Y: ='Analytics screen - Examples header'.Y + 'Analytics screen - Examples header'.Height
                                    - Analytics screen - Examples info:
                                        Control: Image@2.2.3
                                        Properties:
                                          Height: =15
                                          Image: "=\"data:image/svg+xml;utf8, \"&EncodeUrl(\"\r\n    \r\n    <svg xmlns='http://www.w3.org/2000/svg' width='10' height='10' fill='\" & nfColor.Regular & \"' viewBox='0 0 16 16'>\r\n\r\n    <path d='m9.708 6.075-3.024.379-.108.502.595.108c.387.093.464.232.38.619l-.975 4.577c-.255 1.183.14 1.74 1.067 1.74.72 0 1.554-.332 1.933-.789l.116-.549c-.263.232-.65.325-.905.325-.363 0-.494-.255-.402-.704zm.091-2.755a1.32 1.32 0 1 1-2.64 0 1.32 1.32 0 0 1 2.64 0'/>\r\n\r\n    </svg>\r\n\r\n\")"
                                          Tooltip: ="Number of example requests made during the selected period."
                                          Width: =15
                                          X: ='Analytics screen - Examples header'.X + 'Analytics screen - Examples header'.Width
                                          Y: =3
                              - Analytics screen - Renews definition Container:
                                  Control: GroupContainer@1.3.0
                                  Variant: ManualLayout
                                  Properties:
                                    DropShadow: =DropShadow.None
                                    FillPortions: =0
                                    Height: =Parent.Height - 2 * nfTheming.controlPadding
                                    LayoutMinHeight: =64
                                    LayoutMinWidth: =10
                                    RadiusBottomLeft: =0
                                    RadiusBottomRight: =0
                                    RadiusTopLeft: =0
                                    RadiusTopRight: =0
                                    Width: =127 + 30
                                  Children:
                                    - Analytics screen - Renews definition header:
                                        Control: Text@0.0.50
                                        Properties:
                                          Align: ='TextCanvas.Align'.Center
                                          Font: =Font.'Lato Black'
                                          FontColor: =nfColor.Primary
                                          Height: =25
                                          PaddingBottom: =0
                                          PaddingLeft: =0
                                          PaddingRight: =0
                                          PaddingTop: =0
                                          Text: =Index(nfAppData.analyticsMetrics, 5).name
                                          VerticalAlign: =VerticalAlign.Middle
                                          Width: =127
                                          Wrap: =false
                                    - Analytics screen - Renews definition value:
                                        Control: Text@0.0.50
                                        Properties:
                                          Align: ='TextCanvas.Align'.Center
                                          AutoHeight: =true
                                          Font: =Font.Lato
                                          PaddingBottom: =0
                                          PaddingLeft: =0
                                          PaddingRight: =0
                                          PaddingTop: =0
                                          Text: |-
                                            =First(
                                                Filter(
                                                    udfMetricsCount('Analytics screen - Period dropdown'.Selected.days, 'Analytics screen - Period dropdown'.Selected.startDate, 'Analytics screen - Period dropdown'.Selected.endDate),
                                                    metric = "Refreshes"
                                                )
                                            ).count
                                          Width: =127
                                          Y: ='Analytics screen - Renews definition header'.Y + 'Analytics screen - Renews definition header'.Height
                                    - Analytics screen - Renews definition info:
                                        Control: Image@2.2.3
                                        Properties:
                                          Height: =15
                                          Image: "=\"data:image/svg+xml;utf8, \"&EncodeUrl(\"\r\n    \r\n    <svg xmlns='http://www.w3.org/2000/svg' width='10' height='10' fill='\" & nfColor.Regular & \"' viewBox='0 0 16 16'>\r\n\r\n    <path d='m9.708 6.075-3.024.379-.108.502.595.108c.387.093.464.232.38.619l-.975 4.577c-.255 1.183.14 1.74 1.067 1.74.72 0 1.554-.332 1.933-.789l.116-.549c-.263.232-.65.325-.905.325-.363 0-.494-.255-.402-.704zm.091-2.755a1.32 1.32 0 1 1-2.64 0 1.32 1.32 0 0 1 2.64 0'/>\r\n\r\n    </svg>\r\n\r\n\")"
                                          Tooltip: ="Number of term definition updates requested during the selected period."
                                          Width: =15
                                          X: ='Analytics screen - Renews definition header'.X + 'Analytics screen - Renews definition header'.Width
                                          Y: =3
                              - Analytics screen - Terms Container:
                                  Control: GroupContainer@1.3.0
                                  Variant: ManualLayout
                                  Properties:
                                    DropShadow: =DropShadow.None
                                    FillPortions: =0
                                    Height: =Parent.Height - 2 * nfTheming.controlPadding
                                    LayoutMinHeight: =64
                                    LayoutMinWidth: =10
                                    RadiusBottomLeft: =0
                                    RadiusBottomRight: =0
                                    RadiusTopLeft: =0
                                    RadiusTopRight: =0
                                    Width: =44 + 30
                                  Children:
                                    - Analytics screen - Terms header:
                                        Control: Text@0.0.50
                                        Properties:
                                          Align: ='TextCanvas.Align'.Center
                                          Font: =Font.'Lato Black'
                                          FontColor: =nfColor.Primary
                                          Height: =25
                                          PaddingBottom: =0
                                          PaddingLeft: =0
                                          PaddingRight: =0
                                          PaddingTop: =0
                                          Text: =Index(nfAppData.analyticsMetrics, 6).name
                                          VerticalAlign: =VerticalAlign.Middle
                                          Width: =44
                                          Wrap: =false
                                    - Analytics screen - Terms value:
                                        Control: Text@0.0.50
                                        Properties:
                                          Align: ='TextCanvas.Align'.Center
                                          AutoHeight: =true
                                          Font: =Font.Lato
                                          PaddingBottom: =0
                                          PaddingLeft: =0
                                          PaddingRight: =0
                                          PaddingTop: =0
                                          Text: |-
                                            =First(
                                                Filter(
                                                    udfMetricsCount('Analytics screen - Period dropdown'.Selected.days, 'Analytics screen - Period dropdown'.Selected.startDate, 'Analytics screen - Period dropdown'.Selected.endDate),
                                                    metric = "Terms"
                                                )
                                            ).count
                                          Width: =44
                                          Y: ='Analytics screen - Terms header'.Y + 'Analytics screen - Terms header'.Height
                                    - Analytics screen - Terms info:
                                        Control: Image@2.2.3
                                        Properties:
                                          Height: =15
                                          Image: "=\"data:image/svg+xml;utf8, \"&EncodeUrl(\"\r\n    \r\n    <svg xmlns='http://www.w3.org/2000/svg' width='10' height='10' fill='\" & nfColor.Regular & \"' viewBox='0 0 16 16'>\r\n\r\n    <path d='m9.708 6.075-3.024.379-.108.502.595.108c.387.093.464.232.38.619l-.975 4.577c-.255 1.183.14 1.74 1.067 1.74.72 0 1.554-.332 1.933-.789l.116-.549c-.263.232-.65.325-.905.325-.363 0-.494-.255-.402-.704zm.091-2.755a1.32 1.32 0 1 1-2.64 0 1.32 1.32 0 0 1 2.64 0'/>\r\n\r\n    </svg>\r\n\r\n\")"
                                          Tooltip: ="Number of unique terms queried in the chat during the selected period."
                                          Width: =15
                                          X: ='Analytics screen - Terms header'.X + 'Analytics screen - Terms header'.Width
                                          Y: =3
                              - Analytics screen - Period container:
                                  Control: GroupContainer@1.3.0
                                  Variant: AutoLayout
                                  Properties:
                                    DropShadow: =DropShadow.None
                                    FillPortions: =0
                                    LayoutAlignItems: =LayoutAlignItems.End
                                    LayoutDirection: =LayoutDirection.Vertical
                                    LayoutMinHeight: =64
                                    RadiusBottomLeft: =0
                                    RadiusBottomRight: =0
                                    RadiusTopLeft: =0
                                    RadiusTopRight: =0
                                    Width: =150
                                  Children:
                                    - Analytics screen - Period header:
                                        Control: Text@0.0.50
                                        Properties:
                                          AlignInContainer: =AlignInContainer.Stretch
                                          Font: =Font.'Lato Black'
                                          FontColor: =App.Theme.Colors.Primary
                                          Height: =25
                                          Text: ="Analytics Period"
                                          VerticalAlign: =VerticalAlign.Middle
                                    - Analytics screen - Period dropdown:
                                        Control: DropDown@0.0.44
                                        Properties:
                                          AccessibleLabel: ="Analytics Period"
                                          Appearance: ='DropdownCanvas.Appearance'.Outline
                                          DefaultSelectedItems: =Index(nfAppData.analyticsRanges,2)
                                          Items: =nfAppData.analyticsRanges
                                          Required: =true
                                          Width: =150
                                        Children:
                                          - name1:
                                              Control: DropDownDataField@1.5.0
                                              Variant: textualColumn
                                              IsLocked: true
                                              Properties:
                                                FieldDisplayName: ="name"
                                                FieldName: ="name"
                                                FieldType: ="s"
                                                Order: =1
                        - Analytics screen - Charts container:
                            Control: GroupContainer@1.3.0
                            Variant: AutoLayout
                            Properties:
                              DropShadow: =DropShadow.None
                              LayoutDirection: =LayoutDirection.Horizontal
                              PaddingBottom: =nfTheming.controlPadding
                              PaddingLeft: =nfTheming.controlPadding
                              PaddingRight: =nfTheming.controlPadding
                              PaddingTop: =1
                              RadiusBottomLeft: =0
                              RadiusBottomRight: =0
                              RadiusTopLeft: =0
                              RadiusTopRight: =0
                              Width: =Parent.Width
                            Children:
                              - Analytics screen - Chart container:
                                  Control: GroupContainer@1.3.0
                                  Variant: AutoLayout
                                  Properties:
                                    DropShadow: =DropShadow.None
                                    LayoutDirection: =LayoutDirection.Vertical
                                    RadiusBottomLeft: =0
                                    RadiusBottomRight: =0
                                    RadiusTopLeft: =0
                                    RadiusTopRight: =0
                                  Children:
                                    - Analytics screen - Chart:
                                        Control: Image@2.2.3
                                        Properties:
                                          AlignInContainer: =AlignInContainer.Stretch
                                          FillPortions: =3
                                          Image: |-
                                            ="https://quickchart.io/chart?c=" &EncodeUrl
                                            ("
                                            {
                                              'type': 'line',
                                              'data': {
                                                'labels': ["&
                                                    Concat(
                                                        Sort(ForAll(
                                                            Sequence( 
                                                                If(
                                                                    'Analytics screen - Period dropdown'.Selected.days < 200,
                                                                    'Analytics screen - Period dropdown'.Selected.days,
                                                                    200
                                                                ),
                                                                0, 
                                                                1
                                                            ),
                                                            Text(
                                                                DateAdd(
                                                                    Today(), 
                                                                    Value * (-1), 
                                                                    TimeUnit.Days), "yy-mm-dd"
                                                                )
                                                        ),Value,SortOrder.Ascending),
                                                        "'" & Value & "',"
                                                    )
                                                &"],
                                                'datasets': [
                                                  {
                                                    'label': 'Messages',
                                                    'fill': false,
                                                    'backgroundColor': '"& nfColor.Primary &"',
                                                    'borderColor': '"& nfColor.Primary &"',
                                                    lineTension: 0.4,
                                                    borderWidth: 2,
                                                    'data': ["&
                                                      Concat(
                                                        Sort(
                                                            ForAll(
                                                                Sequence(
                                                                    If(
                                                                        'Analytics screen - Period dropdown'.Selected.days < 200,
                                                                        'Analytics screen - Period dropdown'.Selected.days,
                                                                        200
                                                                    ), 
                                                                    0, 
                                                                    1
                                                                ),
                                                                With(
                                                                    {
                                                                        DateValue: Text(
                                                                                    DateAdd(
                                                                                        Today(), 
                                                                                        -Value, 
                                                                                        TimeUnit.Days
                                                                                        ),
                                                                                        "yyyy-mm-dd"
                                                                                    ),
                                                                        Transactions: LookUp(
                                                                            AddColumns(
                                                                                GroupBy(
                                                                                    AddColumns(
                                                                                        'termbuddy-statistics', 
                                                                                        _date, 
                                                                                        Text(CreatedDateTime, "yyyy-mm-dd")
                                                                                    ), 
                                                                                    _date,
                                                                                    grouped
                                                                                ), 
                                                                                _count, 
                                                                                CountRows(grouped)
                                                                            ),
                                                                            _date = Text(DateAdd(Today(), -Value, TimeUnit.Days), "yyyy-mm-dd"),
                                                                            _count
                                                                        )
                                                                    },
                                                                    {
                                                                        date2: DateValue,
                                                                        count: If(IsBlank(Transactions), 0, Transactions)
                                                                    }
                                                                )
                                                            ),
                                                            date2,
                                                            SortOrder.Ascending
                                                        ),
                                                        "'" & count & "',"
                                                      )
                                                    &"]
                                                  },
                                                  {
                                                    'label': 'Quizzes',
                                                    'fill': false,
                                                    'backgroundColor': '"& nfColor.Secondary &"',
                                                    'borderColor': '"& nfColor.Secondary &"',
                                                    lineTension: 0.4,
                                                    borderWidth: 2,
                                                    'data': ["&
                                                      Concat(
                                                        Sort(
                                                            ForAll(
                                                                Sequence(
                                                                    If(
                                                                        'Analytics screen - Period dropdown'.Selected.days < 200,
                                                                        'Analytics screen - Period dropdown'.Selected.days,
                                                                        200
                                                                    ),  
                                                                    0, 
                                                                    1
                                                                ),
                                                                With(
                                                                    {
                                                                        DateValue: Text(
                                                                                    DateAdd(
                                                                                        Today(), 
                                                                                        -Value, 
                                                                                        TimeUnit.Days
                                                                                        ),
                                                                                        "yyyy-mm-dd"
                                                                                    ),
                                                                        Transactions: LookUp(
                                                                            AddColumns(
                                                                                GroupBy(
                                                                                    AddColumns(
                                                                                        Filter(
                                                                                            'termbuddy-statistics',
                                                                                            action = "quiz"
                                                                                        ),
                                                                                        _date, 
                                                                                        Text(CreatedDateTime, "yyyy-mm-dd")
                                                                                    ), 
                                                                                    _date,
                                                                                    grouped
                                                                                ), 
                                                                                _count, 
                                                                                CountRows(grouped)
                                                                            ),
                                                                            _date = Text(DateAdd(Today(), -Value, TimeUnit.Days), "yyyy-mm-dd"),
                                                                            _count
                                                                        )
                                                                    },
                                                                    {
                                                                        date2: DateValue,
                                                                        count: If(IsBlank(Transactions), 0, Transactions)
                                                                    }
                                                                )
                                                            ),
                                                            date2,
                                                            SortOrder.Ascending
                                                        ),
                                                        "'" & count & "',"
                                                      )
                                                    &"]
                                                  },
                                                  {
                                                    'label': 'Examples',
                                                    'fill': false,
                                                    'backgroundColor': '"& nfColor.Accent2 &"',
                                                    'borderColor': '"& nfColor.Accent2 &"',
                                                    lineTension: 0.4,
                                                    borderWidth: 2,
                                                    'data': ["&
                                                      Concat(
                                                        Sort(
                                                            ForAll(
                                                                Sequence(
                                                                    If(
                                                                        'Analytics screen - Period dropdown'.Selected.days < 200,
                                                                        'Analytics screen - Period dropdown'.Selected.days,
                                                                        200
                                                                    ),  
                                                                    0, 
                                                                    1
                                                                ),
                                                                With(
                                                                    {
                                                                        DateValue: Text(
                                                                                    DateAdd(
                                                                                        Today(), 
                                                                                        -Value, 
                                                                                        TimeUnit.Days
                                                                                        ),
                                                                                        "yyyy-mm-dd"
                                                                                    ),
                                                                        Transactions: LookUp(
                                                                            AddColumns(
                                                                                GroupBy(
                                                                                    AddColumns(
                                                                                        Filter(
                                                                                            'termbuddy-statistics',
                                                                                            action = "example"
                                                                                        ), 
                                                                                        _date, 
                                                                                        Text(CreatedDateTime, "yyyy-mm-dd")
                                                                                    ), 
                                                                                    _date,
                                                                                    grouped
                                                                                ), 
                                                                                _count, 
                                                                                CountRows(grouped)
                                                                            ),
                                                                            _date = Text(DateAdd(Today(), -Value, TimeUnit.Days), "yyyy-mm-dd"),
                                                                            _count
                                                                        )
                                                                    },
                                                                    {
                                                                        date2: DateValue,
                                                                        count: If(IsBlank(Transactions), 0, Transactions)
                                                                    }
                                                                )
                                                            ),
                                                            date2,
                                                            SortOrder.Ascending
                                                        ),
                                                        "'" & count & "',"
                                                      )
                                                    &"]
                                                  }
                                                ]
                                              },
                                              'options': {
                                                legend: {
                                                  display: true
                                                },
                                                'responsive': true,
                                                'title': {
                                                  'display': false,
                                                  'text': 'Analytics'
                                                }
                                              }
                                            }
                                            ")
                              - Analytics screen - Histogram container:
                                  Control: GroupContainer@1.3.0
                                  Variant: AutoLayout
                                  Properties:
                                    DropShadow: =DropShadow.None
                                    LayoutDirection: =LayoutDirection.Vertical
                                  Children:
                                    - Analytics screen - Histogram:
                                        Control: Image@2.2.3
                                        Properties:
                                          AlignInContainer: =AlignInContainer.Stretch
                                          FillPortions: =3
                                          Image: |-
                                            ="https://quickchart.io/chart?c=" &EncodeUrl
                                            ("
                                            {
                                              type: 'horizontalBar',
                                              data: {
                                                labels: ["&
                                                        Concat(
                                                            FirstN(
                                                                Sort(
                                                                    AddColumns(
                                                                        GroupBy(
                                                                            Filter(
                                                                                'termbuddy-statistics',
                                                                                And(
                                                                                    CreatedDateTime >= 'Analytics screen - Period dropdown'.Selected.startDate,
                                                                                    CreatedDateTime <= 'Analytics screen - Period dropdown'.Selected.endDate
                                                                                ) && action = "new_term"
                                                                            ),
                                                                            term,
                                                                            GroupedRows
                                                                        ),
                                                                        _termName, kch_term,
                                                                        _rowCount, CountRows(GroupedRows)
                                                                    ),
                                                                    _rowCount,
                                                                    SortOrder.Descending
                                                                ),
                                                                10
                                                            ),
                                                        "'" & _termName & "',"
                                                    )
                                                    &"],
                                                datasets: [
                                                  {
                                                    label: 'Terms',
                                                    data: ["&
                                                        Concat(
                                                            FirstN(
                                                                Sort(
                                                                    AddColumns(
                                                                        GroupBy(
                                                                            Filter(
                                                                                'termbuddy-statistics',
                                                                                And(
                                                                                    CreatedDateTime >= 'Analytics screen - Period dropdown'.Selected.startDate,
                                                                                    CreatedDateTime <= 'Analytics screen - Period dropdown'.Selected.endDate
                                                                                ) && action = "new_term"
                                                                            ),
                                                                            term,
                                                                            GroupedRows
                                                                        ), 
                                                                        _rowCount, 
                                                                        CountRows(GroupedRows)
                                                                    ),
                                                                    _rowCount,
                                                                    SortOrder.Descending
                                                                ),
                                                                10
                                                            ),
                                                        "'" & _rowCount & "',"
                                                    )
                                                    &"],
                                                    backgroundColor: getGradientFillHelper('horizontal', ['"& nfColor.Accent4 &"', '"& nfColor.Accent3 &"']),
                                                    borderRadius: 5
                                                  },
                                                ],
                                              },
                                              options: {
                                                'responsive': true,
                                                'title': {
                                                  'display': true,
                                                  'text': 'TOP-10 terms'
                                                },
                                                scales: {
                                                  xAxes: [
                                                    {
                                                      gridLines: {
                                                        display: false,
                                                        drawOnChartArea: false,
                                                        tickMarkLength: 1,
                                                        zeroLineWidth: 1,
                                                        zeroLineColor: 'black',
                                                        color: 'black',
                                                      },
                                                      ticks: {
                                                        fontColor: getGradientFillHelper('vertical', ['#eb3639', '#a336eb', '#36a2eb']),
                                                        beginAtZero: true,
                                                        display: false
                                                      },
                                                    },
                                                  ],
                                                  yAxes: [
                                                    {
                                                      display: true,
                                                      position: 'left',
                                                      gridLines: {
                                                        display: false,
                                                        drawOnChartArea: false,
                                                        tickMarkLength: 8,
                                                        color: '"& nfColor.Regular &"',
                                                      },
                                                      ticks: {
                                                        fontColor: '"& nfColor.Regular &"',
                                                      },
                                                    },
                                                  ],
                                                },
                                                legend: {
                                                  display: false,
                                                },
                                                plugins: {
                                                  roundedBars: true,
                                                  datalabels: {
                                                    anchor: 'end',
                                                    align: 'start',
                                                    color: '"& nfColor.Regular &"',
                                                    formatter: function (value, context) {
                                                      return value;
                                                    },
                                                    font: {
                                                      size: 12,
                                                      weight: 'normal',
                                                    },
                                                  },
                                                },
                                              },
                                            }
                                            ")
