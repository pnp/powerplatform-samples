Screen1 As screen:
    OnVisible: |-
        =UpdateContext(
            {
                /* Adding Hours if approved beyond workhours */
                varDeadline: DateAdd(
                    /*  Adding Days based on whether the deadline lies in the weekend or not, 
                        Case: Today is Sunday
                            Adding 2 days to make deadline Tuesday
                        Case: Today is Friday
                            Adding 4 days to make deading Tuesday
                        Case: Today is Thursday
                            Adding 4 days to make deadline Monday
                        Case: Today is Saturday
                            Adding 3 days to make deading Tuesday
                     */
                    DateAdd(
                        Today(),
                        2,
                        Days
                    ),
                    /* If today is weekend or working hour has not started, keep the starting hour as 9:00 AM */
                    If(
                        Weekday(Today()) in [
                            7,
                            1
                        ] || DateDiff(
                            Now(),
                            Today(),
                            Minutes
                        ) < 540,
                        540,
                    /* If working hour is over, keep the starting hour as 9:00 AM of next day */
                        DateDiff(
                            Now(),
                            Today(),
                            Minutes
                        ) > 1020,
                        1980,
                    /* If time is within working hour, keep deadline time as time as the time it was approved */
                        DateDiff(
                            Now(),
                            Today(),
                            Minutes
                        )
                    ),
                    Minutes
                )
            }
        );

    Rectangle1 As rectangle:
        BorderColor: =RGBA(230, 230, 230, 1)
        BorderThickness: =1
        DisplayMode: =DisplayMode.View
        Fill: =RGBA(255, 255, 255, 1)
        Height: =Parent.Height-btnSubmit.Height-Self.Y-40
        Visible: =locShowRequestForm
        Width: =If(Parent.Width>1200,1200,Parent.Width-40)
        X: =(Parent.Width - Self.Width)/2
        Y: =40
        ZIndex: =2

    Container12 As groupContainer.manualLayoutContainer:
        Height: =Parent.Height-2*Self.Y
        Width: =Parent.Width - 2*Self.X
        X: =20
        Y: =20
        ZIndex: =3

        Container13 As groupContainer.verticalAutoLayoutContainer:
            Height: =Parent.Height-Self.Y
            LayoutDirection: =LayoutDirection.Vertical
            LayoutMode: =LayoutMode.Auto
            LayoutWrap: =true
            Width: =If(Parent.Width>1200,1200,Parent.Width)
            X: =(Parent.Width - Self.Width)/2
            Y: =Rectangle1.Y
            ZIndex: =2

            frmTravelRequest As form:
                AlignInContainer: =AlignInContainer.SetByContainer
                BorderColor: =RGBA(128, 128, 128, 1)
                BorderStyle: =BorderStyle.None
                BorderThickness: =1
                DataSource: ='Travel Requests'
                Height: =Rectangle1.Height-Rectangle1.Y-20
                Item: =galTravelRequests.Selected
                LayoutMinHeight: =600
                LayoutMinWidth: =320
                NumberOfColumns: =1
                OnSuccess: =Set(locShowRequestForm,false); Navigate(HomeScreen)
                Visible: =locShowRequestForm
                Width: =If(Parent.Width>1200,1200,Parent.Width-20)
                X: =(Parent.Width - Self.Width)/2
                ZIndex: =2

                "'Requested By_DataCard1' As typedDataCard.comboBoxEditCard":
                    BorderStyle: =BorderStyle.Solid
                    DataField: ="sb_RequestedBy"
                    Default: =ThisItem.'Requested By'
                    DisplayMode: =Parent.DisplayMode
                    DisplayName: =DataSourceInfo([@'Travel Requests'],DataSourceInfo.DisplayName,"sb_RequestedBy")
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =50
                    Required: =true
                    Update: =DataCardValue3.Selected
                    Width: =560
                    WidthFit: =true
                    X: =0
                    Y: =0
                    ZIndex: =1

                    DataCardKey5 As label:
                        AutoHeight: =true
                        Color: =RGBA(128, 128, 128, 1)
                        Height: =48
                        Size: =16
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                        ZIndex: =1

                    DataCardValue3 As combobox:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        ChevronBackground: =RGBA(128, 128, 128, 1)
                        DefaultSelectedItems: =Filter(Users,'Primary Email'=User().Email)
                        DisplayFields: =["fullname"]
                        DisplayMode: =DisplayMode.Disabled
                        Height: =50
                        Items: =Choices([@'Travel Requests'].'Requested By')
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        SearchFields: =["fullname"]
                        SearchItems: =Search(Choices([@'Travel Requests'].'Requested By'),DataCardValue3.SearchText,"fullname")
                        SelectMultiple: =false
                        Size: =16
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey5.Y + DataCardKey5.Height + 5
                        ZIndex: =2

                    ErrorMessage4 As label:
                        AutoHeight: =true
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =24
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardValue3.Y + DataCardValue3.Height
                        ZIndex: =3

                    StarVisible4 As label:
                        Align: =Align.Center
                        Height: =DataCardKey5.Height
                        Size: =21
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey5.Y
                        ZIndex: =4

                Purpose_DataCard1 As typedDataCard.comboBoxEditCard:
                    BorderColor: =RGBA(128, 128, 128, 1)
                    BorderStyle: =BorderStyle.Solid
                    DataField: ="sb_Purpose"
                    Default: =ThisItem.Purpose
                    DisplayMode: =Parent.DisplayMode
                    DisplayName: =DataSourceInfo([@'Travel Requests'],DataSourceInfo.DisplayName,"sb_Purpose")
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =50
                    Required: =true
                    Update: =DataCardValue4.Selected
                    Width: =560
                    WidthFit: =true
                    X: =0
                    Y: =4
                    ZIndex: =1

                    DataCardKey6 As label:
                        AutoHeight: =true
                        Color: =RGBA(128, 128, 128, 1)
                        Height: =48
                        Size: =16
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                        ZIndex: =1

                    DataCardValue4 As combobox:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        ChevronBackground: =RGBA(128, 128, 128, 1)
                        DefaultSelectedItems: =Parent.Default
                        DisplayFields: =["sb_name"]
                        DisplayMode: =Parent.DisplayMode
                        Height: =50
                        Items: =Choices([@'Travel Requests'].Purpose)
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        SearchFields: =["sb_name"]
                        SearchItems: =Search(Choices([@'Travel Requests'].Purpose),DataCardValue4.SearchText,"sb_name")
                        SelectMultiple: =false
                        Size: =16
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey6.Y + DataCardKey6.Height + 5
                        ZIndex: =2

                    ErrorMessage5 As label:
                        AutoHeight: =true
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =16
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardValue4.Y + DataCardValue4.Height
                        ZIndex: =3

                    StarVisible5 As label:
                        Align: =Align.Center
                        Height: =DataCardKey6.Height
                        Size: =21
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey6.Y
                        ZIndex: =4

                Name_DataCard1 As typedDataCard.textualEditCard:
                    BorderStyle: =BorderStyle.Solid
                    DataField: ="sb_name"
                    Default: =ThisItem.Name
                    DisplayMode: =Parent.DisplayMode
                    DisplayName: =DataSourceInfo([@'Travel Requests'],DataSourceInfo.DisplayName,"sb_name")
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =50
                    MaxLength: =DataSourceInfo([@'Travel Requests'], DataSourceInfo.MaxLength, "sb_name")
                    Required: =true
                    Update: =DataCardValue5.Text
                    Visible: =false
                    Width: =560
                    X: =0
                    Y: =5
                    ZIndex: =1

                    DataCardKey7 As label:
                        AutoHeight: =true
                        Height: =48
                        Size: =21
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                        ZIndex: =1

                    DataCardValue5 As text:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        Default: =First(DataCardValue3.SelectedItems).'Full Name'&" | "&First(DataCardValue4.SelectedItems).Name
                        DelayOutput: =true
                        DisplayMode: =Parent.DisplayMode
                        Height: =70
                        MaxLength: =Parent.MaxLength
                        PaddingLeft: =5
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =21
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey7.Y + DataCardKey7.Height + 5
                        ZIndex: =2

                    ErrorMessage6 As label:
                        AutoHeight: =true
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =24
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardValue5.Y + DataCardValue5.Height
                        ZIndex: =3

                    StarVisible6 As label:
                        Align: =Align.Center
                        Height: =DataCardKey7.Height
                        Size: =21
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey7.Y
                        ZIndex: =4

                "'Requested To_DataCard1' As typedDataCard.comboBoxEditCard":
                    BorderStyle: =BorderStyle.Solid
                    DataField: ="sb_RequestedTo"
                    Default: =ThisItem.'Requested To 1'
                    DisplayMode: =Parent.DisplayMode
                    DisplayName: =DataSourceInfo([@'Travel Requests'],DataSourceInfo.DisplayName,"sb_RequestedTo")
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =50
                    Required: =true
                    Update: =DataCardValue2.Selected
                    Width: =560
                    WidthFit: =true
                    X: =0
                    Y: =6
                    ZIndex: =1

                    DataCardKey4 As label:
                        AutoHeight: =true
                        Color: =RGBA(128, 128, 128, 1)
                        Height: =48
                        Size: =16
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                        ZIndex: =1

                    DataCardValue2 As combobox:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        ChevronBackground: =RGBA(128, 128, 128, 1)
                        ChevronHoverBackground: =RGBA(128, 128, 128, 1)
                        DefaultSelectedItems: =LookUp(Users,'Primary Email' = User().Email).Manager
                        DisplayFields: =["fullname"]
                        DisplayMode: =DisplayMode.Disabled
                        Height: =50
                        HoverBorderColor: =RGBA(128, 128, 128, 1)
                        Items: =Choices([@'Travel Requests'].'Requested To 1')
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        SearchFields: =["fullname"]
                        SearchItems: =Search(Choices([@'Travel Requests'].'Requested To 1'),DataCardValue2.SearchText,"fullname")
                        SelectMultiple: =false
                        Size: =16
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey4.Y + DataCardKey4.Height + 5
                        ZIndex: =2

                    ErrorMessage7 As label:
                        AutoHeight: =true
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =24
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardValue2.Y + DataCardValue2.Height
                        ZIndex: =3

                    StarVisible7 As label:
                        Align: =Align.Center
                        Height: =DataCardKey4.Height
                        Size: =21
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey4.Y
                        ZIndex: =4

                Note_DataCard1 As typedDataCard.textualMultiLineEditCard:
                    BorderStyle: =BorderStyle.Solid
                    DataField: ="sb_note"
                    Default: =ThisItem.Note
                    DisplayMode: =Parent.DisplayMode
                    DisplayName: =DataSourceInfo([@'Travel Requests'],DataSourceInfo.DisplayName,"sb_note")
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =50
                    Required: =false
                    Update: =DataCardValue6.Text
                    Width: =560
                    WidthFit: =true
                    X: =0
                    Y: =7
                    ZIndex: =1

                    DataCardKey8 As label:
                        AutoHeight: =true
                        Color: =RGBA(128, 128, 128, 1)
                        Height: =48
                        Size: =16
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                        ZIndex: =1

                    DataCardValue6 As text:
                        BorderColor: =RGBA(128, 128, 128, 1)
                        BorderThickness: =1
                        Default: =Parent.Default
                        DelayOutput: =true
                        DisplayMode: =Parent.DisplayMode
                        Height: =140
                        HoverBorderColor: =RGBA(128, 128, 128, 1)
                        Mode: =TextMode.MultiLine
                        PaddingLeft: =5
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =16
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey8.Y + DataCardKey8.Height + 5
                        ZIndex: =2

                    ErrorMessage8 As label:
                        AutoHeight: =true
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =24
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardValue6.Y + DataCardValue6.Height
                        ZIndex: =3

                    StarVisible8 As label:
                        Align: =Align.Center
                        Height: =DataCardKey8.Height
                        Size: =21
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey8.Y
                        ZIndex: =4

                "'Travel Request Status_DataCard1' As typedDataCard.comboBoxOptionSetSingleEditCard":
                    BorderStyle: =BorderStyle.Solid
                    DataField: ="sb_travelrequeststatus"
                    Default: =ThisItem.'Travel Request Status'
                    DisplayMode: =Parent.DisplayMode
                    DisplayName: =DataSourceInfo([@'Travel Requests'],DataSourceInfo.DisplayName,"sb_travelrequeststatus")
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =50
                    Required: =true
                    Update: =DataCardValue7.Selected.Value
                    Visible: =false
                    Width: =560
                    WidthFit: =false
                    X: =0
                    Y: =8
                    ZIndex: =1

                    DataCardKey9 As label:
                        AutoHeight: =true
                        Height: =48
                        Size: =21
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                        ZIndex: =1

                    DataCardValue7 As combobox:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        DefaultSelectedItems: |-
                            =If(
                                Parent.Default = 'Travel Request Status (Travel Requests)'.'Approved Pending Booking',
                                [Parent.Default],
                                ['Travel Request Status (Travel Requests)'.Pending]
                            )
                        DisplayFields: =["Value"]
                        DisplayMode: =Parent.DisplayMode
                        Height: =70
                        IsSearchable: =false
                        Items: =Choices('Travel Request Status (Travel Requests)')
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        SearchFields: =["Value"]
                        SearchItems: =[]
                        SelectMultiple: =false
                        Size: =21
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey9.Y + DataCardKey9.Height + 5
                        ZIndex: =2

                    ErrorMessage9 As label:
                        AutoHeight: =true
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =24
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardValue7.Y + DataCardValue7.Height
                        ZIndex: =3

                    StarVisible9 As label:
                        Align: =Align.Center
                        Height: =DataCardKey9.Height
                        Size: =21
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey9.Y
                        ZIndex: =4

                Draft_DataCard1 As typedDataCard.comboBoxOptionSetSingleEditCard:
                    BorderStyle: =BorderStyle.Solid
                    DataField: ="sb_draft"
                    Default: =ThisItem.Draft
                    DisplayMode: =Parent.DisplayMode
                    DisplayName: =DataSourceInfo([@'Travel Requests'],DataSourceInfo.DisplayName,"sb_draft")
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =50
                    Required: =false
                    Update: =DataCardValue8.Selected.Value
                    Visible: =false
                    Width: =560
                    X: =0
                    Y: =9
                    ZIndex: =1

                    DataCardKey10 As label:
                        AutoHeight: =true
                        Height: =48
                        Size: =21
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                        ZIndex: =1

                    DataCardValue8 As combobox:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        DefaultSelectedItems: =['Draft (Travel Requests)'.No]
                        DisplayFields: =["Value"]
                        DisplayMode: =Parent.DisplayMode
                        Height: =70
                        IsSearchable: =false
                        Items: =Choices('Draft (Travel Requests)')
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        SearchFields: =["Value"]
                        SearchItems: =[]
                        SelectMultiple: =false
                        Size: =21
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey10.Y + DataCardKey10.Height + 5
                        ZIndex: =2

                    ErrorMessage10 As label:
                        AutoHeight: =true
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =24
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardValue8.Y + DataCardValue8.Height
                        ZIndex: =3

                    StarVisible10 As label:
                        Align: =Align.Center
                        Height: =DataCardKey10.Height
                        Size: =21
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey10.Y
                        ZIndex: =4

                "'Is Level 1 approval Skipped_DataCard1' As typedDataCard.comboBoxOptionSetSingleEditCard":
                    BorderStyle: =BorderStyle.Solid
                    DataField: ="sb_islevel1approvalskipped"
                    Default: =ThisItem.'Is Level 1 approval Skipped'
                    DisplayMode: =Parent.DisplayMode
                    DisplayName: =DataSourceInfo([@'Travel Requests'],DataSourceInfo.DisplayName,"sb_islevel1approvalskipped")
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =50
                    Required: =false
                    Update: =DataCardValue9.Selected.Value
                    Visible: =false
                    Width: =580
                    X: =0
                    Y: =10
                    ZIndex: =1

                    DataCardKey11 As label:
                        AutoHeight: =true
                        Height: =48
                        Size: =21
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                        ZIndex: =1

                    DataCardValue9 As combobox:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        DefaultSelectedItems: =If(locRole<>"Staff",['Is Level 1 approval Skipped (Travel Requests)'.Yes],[Parent.Default])
                        DisplayFields: =["Value"]
                        DisplayMode: =Parent.DisplayMode
                        Height: =70
                        IsSearchable: =false
                        Items: =Choices('Is Level 1 approval Skipped (Travel Requests)')
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        SearchFields: =["Value"]
                        SearchItems: =[]
                        SelectMultiple: =false
                        Size: =21
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey11.Y + DataCardKey11.Height + 5
                        ZIndex: =2

                    ErrorMessage11 As label:
                        AutoHeight: =true
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =24
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardValue9.Y + DataCardValue9.Height
                        ZIndex: =3

                    StarVisible11 As label:
                        Align: =Align.Center
                        Height: =DataCardKey11.Height
                        Size: =21
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey11.Y
                        ZIndex: =4

                "'Cost Changed_DataCard1' As typedDataCard.numberEditCard":
                    BorderStyle: =BorderStyle.Solid
                    DataField: ="sb_costchanged"
                    Default: =ThisItem.'Cost Changed'
                    DisplayMode: =Parent.DisplayMode
                    DisplayName: =DataSourceInfo([@'Travel Requests'],DataSourceInfo.DisplayName,"sb_costchanged")
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =50
                    Required: =false
                    Update: =Value(DataCardValue19.Text)
                    Visible: =false
                    Width: =580
                    X: =0
                    Y: =11
                    ZIndex: =1

                    DataCardKey25 As label:
                        AutoHeight: =true
                        Height: =48
                        Size: =21
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                        ZIndex: =1

                    DataCardValue19 As text:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        Default: |-
                            =If(
                                Value(galTravelRequests.Selected.'Original Travel Cost') = 0 || IsBlank(galTravelRequests.Selected.'Original Travel Cost'),
                                0,
                                Round(
                                    (Abs(galTravelRequests.Selected.'Original Travel Cost' - galTravelRequests.Selected.'Travel Cost') * 100) / (galTravelRequests.Selected.'Original Travel Cost'),
                                    0
                                )
                            )
                        DelayOutput: =true
                        DisplayMode: =Parent.DisplayMode
                        Format: =TextFormat.Number
                        Height: =70
                        PaddingLeft: =5
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =21
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey25.Y + DataCardKey25.Height + 5
                        ZIndex: =2

                    ErrorMessage25 As label:
                        AutoHeight: =true
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =24
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardValue19.Y + DataCardValue19.Height
                        ZIndex: =3

                    StarVisible25 As label:
                        Align: =Align.Center
                        Height: =DataCardKey25.Height
                        Size: =21
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey25.Y
                        ZIndex: =4

                "'Applied Request Rule_DataCard1' As typedDataCard.comboBoxEditCard":
                    BorderStyle: =BorderStyle.Solid
                    DataField: ="sb_AppliedRequestRule"
                    Default: =ThisItem.'Applied Request Rule'
                    DisplayMode: =Parent.DisplayMode
                    DisplayName: =DataSourceInfo([@'Travel Requests'],DataSourceInfo.DisplayName,"sb_AppliedRequestRule")
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =50
                    Required: =false
                    Update: =DataCardValue20.Selected
                    Visible: =false
                    Width: =580
                    X: =0
                    Y: =12
                    ZIndex: =1

                    DataCardKey26 As label:
                        AutoHeight: =true
                        Height: =48
                        Size: =16
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                        ZIndex: =1

                    DataCardValue20 As combobox:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        DefaultSelectedItems: |-
                            =If(
                                frmTravelRequest.Mode = FormMode.Edit,
                                Parent.Default,
                                LookUp(
                                    'Request Rules',
                                    'Is Current' = 'Is Current (Request Rules)'.Yes
                                )
                            )
                        DisplayFields: =["sb_name"]
                        DisplayMode: =Parent.DisplayMode
                        Height: =50
                        Items: =Choices([@'Travel Requests'].sb_AppliedRequestRule)
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        SearchFields: =["sb_name"]
                        SearchItems: =Search(Choices([@'Travel Requests'].sb_AppliedRequestRule),DataCardValue20.SearchText,"sb_name")
                        SelectMultiple: =false
                        Size: =16
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey26.Y + DataCardKey26.Height + 5
                        ZIndex: =2

                    ErrorMessage26 As label:
                        AutoHeight: =true
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =24
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardValue20.Y + DataCardValue20.Height
                        ZIndex: =3

                    StarVisible26 As label:
                        Align: =Align.Center
                        Height: =DataCardKey26.Height
                        Size: =21
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey26.Y
                        ZIndex: =4

                "'Is Level 1 approval Skipped_DataCard2' As typedDataCard.comboBoxOptionSetSingleEditCard":
                    BorderStyle: =BorderStyle.Solid
                    DataField: ="sb_islevel1approvalskipped"
                    Default: =If(locRole <> "Staff",'Is Level 1 approval Skipped (Travel Requests)'.Yes)
                    DisplayMode: =Parent.DisplayMode
                    DisplayName: =DataSourceInfo([@'Travel Requests'],DataSourceInfo.DisplayName,"sb_islevel1approvalskipped")
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =50
                    Required: =false
                    Update: =DataCardValue22.Selected.Value
                    Visible: =false
                    Width: =580
                    X: =0
                    Y: =13
                    ZIndex: =1

                    DataCardKey28 As label:
                        AutoHeight: =true
                        Height: =48
                        Size: =21
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                        ZIndex: =1

                    DataCardValue22 As combobox:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        DefaultSelectedItems: =[Parent.Default]
                        DisplayFields: =["Value"]
                        DisplayMode: =Parent.DisplayMode
                        Height: =70
                        IsSearchable: =false
                        Items: =Choices('Is Level 1 approval Skipped (Travel Requests)')
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        SearchFields: =["Value"]
                        SearchItems: =[]
                        SelectMultiple: =false
                        Size: =21
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey28.Y + DataCardKey28.Height + 5
                        ZIndex: =2

                    ErrorMessage28 As label:
                        AutoHeight: =true
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =24
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardValue22.Y + DataCardValue22.Height
                        ZIndex: =3

                    StarVisible28 As label:
                        Align: =Align.Center
                        Height: =DataCardKey28.Height
                        Size: =21
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey28.Y
                        ZIndex: =4

                Deadline_DataCard1 As typedDataCard.dateTimeEditCard:
                    BorderStyle: =BorderStyle.Solid
                    DataField: ="sb_deadline"
                    Default: =varDeadline
                    DisplayMode: =Parent.DisplayMode
                    DisplayName: =DataSourceInfo([@'Travel Requests'],DataSourceInfo.DisplayName,"sb_deadline")
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =50
                    Required: =false
                    Update: =DateValue7.SelectedDate + Time(Value(HourValue7.Selected.Value), Value(MinuteValue7.Selected.Value), 0)
                    Visible: =false
                    Width: =580
                    X: =0
                    Y: =14
                    ZIndex: =1

                    DataCardKey22 As label:
                        AutoHeight: =true
                        Height: =48
                        Size: =21
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                        ZIndex: =1

                    DateValue7 As datepicker:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        DefaultDate: =Parent.Default
                        DisplayMode: =Parent.DisplayMode
                        EndYear: =Year(Today())+100
                        Height: =70
                        IsEditable: =true
                        PaddingBottom: =0
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        Size: =24
                        StartYear: =1899
                        Tooltip: =Parent.DisplayName
                        Width: =(Parent.Width - 60) / 2
                        X: =30
                        Y: =DataCardKey22.Y + DataCardKey22.Height + 5
                        ZIndex: =2

                    HourValue7 As dropdown:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        Default: =Text(Hour(Parent.Default),"00")
                        DisplayMode: =Parent.DisplayMode
                        Height: =DateValue7.Height
                        Items: =["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"]
                        PaddingBottom: =5
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        PaddingRight: =5
                        PaddingTop: =5
                        Size: =21
                        Tooltip: =Parent.DisplayName
                        Width: =DateValue7.Width / 2 - 10
                        X: =DateValue7.X + DateValue7.Width + 10
                        Y: =DateValue7.Y
                        ZIndex: =3

                    Separator8 As label:
                        Align: =Align.Center
                        FontWeight: =FontWeight.Bold
                        Height: =HourValue7.Height
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =21
                        Text: |-
                            =":"
                        Width: =10
                        Wrap: =false
                        X: =HourValue7.X + HourValue7.Width
                        Y: =HourValue7.Y
                        ZIndex: =4

                    MinuteValue7 As dropdown:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        Default: =Text(Minute(Parent.Default),"00")
                        DisplayMode: =Parent.DisplayMode
                        Height: =HourValue7.Height
                        Items: =["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"]
                        PaddingBottom: =5
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        PaddingRight: =5
                        PaddingTop: =5
                        Size: =21
                        Tooltip: =Parent.DisplayName
                        Width: =HourValue7.Width
                        X: =HourValue7.X + HourValue7.Width + Separator8.Width
                        Y: =HourValue7.Y
                        ZIndex: =5

                    ErrorMessage31 As label:
                        AutoHeight: =true
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =24
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =HourValue7.Y + HourValue7.Height
                        ZIndex: =6

                    StarVisible31 As label:
                        Align: =Align.Center
                        Height: =DataCardKey22.Height
                        Size: =21
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey22.Y
                        ZIndex: =7

                "'Travel Cost_DataCard1' As typedDataCard.currencyEditCard":
                    BorderColor: =RGBA(128, 128, 128, 1)
                    BorderStyle: =BorderStyle.Solid
                    DataField: ="sb_travelcost"
                    Default: =ThisItem.'Travel Cost'
                    DisplayMode: =Parent.DisplayMode
                    DisplayName: =DataSourceInfo([@'Travel Requests'],DataSourceInfo.DisplayName,"sb_travelcost")
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =50
                    Required: =true
                    Update: =Value(DataCardValue1.Text)
                    Width: =560
                    WidthFit: =true
                    X: =0
                    Y: =1
                    ZIndex: =17

                    DataCardKey1 As label:
                        AutoHeight: =true
                        Color: =RGBA(128, 128, 128, 1)
                        Height: =48
                        Size: =16
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                        ZIndex: =1

                    DataCardValue1 As text:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        Default: =0
                        DelayOutput: =true
                        DisplayMode: =DisplayMode.Disabled
                        Format: =TextFormat.Number
                        Height: =50
                        PaddingLeft: =5
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =16
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardKey1.Y + DataCardKey1.Height + 5
                        ZIndex: =2

                    ErrorMessage1 As label:
                        AutoHeight: =true
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =16
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =DataCardValue1.Y + DataCardValue1.Height
                        ZIndex: =3

                    StarVisible1 As label:
                        Align: =Align.Center
                        Height: =DataCardKey1.Height
                        Size: =21
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey1.Y
                        ZIndex: =4

                "'Travel Start Date_DataCard1' As typedDataCard.dateTimeEditCard":
                    BorderColor: =RGBA(128, 128, 128, 1)
                    BorderStyle: =BorderStyle.Solid
                    DataField: ="sb_travelstartdate"
                    Default: =ThisItem.'Travel Start Date'
                    DisplayMode: =Parent.DisplayMode
                    DisplayName: =DataSourceInfo([@'Travel Requests'],DataSourceInfo.DisplayName,"sb_travelstartdate")
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =50
                    Required: =true
                    Update: =DateValue2.SelectedDate + Time(Value(HourValue2.Selected.Value), Value(MinuteValue2.Selected.Value), 0)
                    Width: =560
                    WidthFit: =true
                    X: =0
                    Y: =2
                    ZIndex: =17

                    DataCardKey3 As label:
                        AutoHeight: =true
                        Color: =RGBA(128, 128, 128, 1)
                        Height: =48
                        Size: =16
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                        ZIndex: =1

                    DateValue2 As datepicker:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        Color: =RGBA(128, 128, 128, 1)
                        DefaultDate: =Parent.Default
                        DisplayMode: =Parent.DisplayMode
                        EndYear: =Year(Today())+100
                        Height: =50
                        IconBackground: =RGBA(128, 128, 128, 1)
                        IsEditable: =true
                        PaddingBottom: =0
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        Size: =16
                        StartYear: =1899
                        Tooltip: =Parent.DisplayName
                        Width: =(Parent.Width - 60) / 2
                        X: =30
                        Y: =DataCardKey3.Y + DataCardKey3.Height + 5
                        ZIndex: =2

                    HourValue2 As dropdown:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        ChevronBackground: =RGBA(128, 128, 128, 1)
                        Default: =Text(Hour(Parent.Default),"00")
                        DisplayMode: =Parent.DisplayMode
                        Height: =50
                        Items: =["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"]
                        PaddingBottom: =5
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        PaddingRight: =5
                        PaddingTop: =5
                        Size: =16
                        Tooltip: =Parent.DisplayName
                        Width: =DateValue2.Width / 2 - 10
                        X: =DateValue2.X + DateValue2.Width + 10
                        Y: =DateValue2.Y
                        ZIndex: =3

                    Separator4 As label:
                        Align: =Align.Center
                        FontWeight: =FontWeight.Bold
                        Height: =HourValue2.Height
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =21
                        Text: |-
                            =":"
                        Width: =10
                        Wrap: =false
                        X: =HourValue2.X + HourValue2.Width
                        Y: =HourValue2.Y
                        ZIndex: =4

                    MinuteValue2 As dropdown:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        ChevronBackground: =RGBA(128, 128, 128, 1)
                        Default: =Text(Minute(Parent.Default),"00")
                        DisplayMode: =Parent.DisplayMode
                        Height: =50
                        Items: =["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"]
                        PaddingBottom: =5
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        PaddingRight: =5
                        PaddingTop: =5
                        Size: =16
                        Tooltip: =Parent.DisplayName
                        Width: =HourValue2.Width
                        X: =HourValue2.X + HourValue2.Width + Separator4.Width
                        Y: =HourValue2.Y
                        ZIndex: =5

                    ErrorMessage3 As label:
                        AutoHeight: =true
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =16
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =HourValue2.Y + HourValue2.Height
                        ZIndex: =6

                    StarVisible3 As label:
                        Align: =Align.Center
                        Height: =DataCardKey3.Height
                        Size: =21
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey3.Y
                        ZIndex: =7

                "'Travel End Date_DataCard1' As typedDataCard.dateTimeEditCard":
                    BorderColor: =RGBA(128, 128, 128, 1)
                    BorderStyle: =BorderStyle.Solid
                    DataField: ="sb_travelenddate"
                    Default: =ThisItem.'Travel End Date'
                    DisplayMode: =Parent.DisplayMode
                    DisplayName: =DataSourceInfo([@'Travel Requests'],DataSourceInfo.DisplayName,"sb_travelenddate")
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =50
                    Required: =true
                    Update: =DateValue1.SelectedDate + Time(Value(HourValue1.Selected.Value), Value(MinuteValue1.Selected.Value), 0)
                    Width: =560
                    WidthFit: =true
                    X: =0
                    Y: =3
                    ZIndex: =17

                    DataCardKey2 As label:
                        AutoHeight: =true
                        Color: =RGBA(128, 128, 128, 1)
                        Height: =48
                        Size: =16
                        Text: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        Wrap: =false
                        X: =30
                        Y: =10
                        ZIndex: =1

                    DateValue1 As datepicker:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        DefaultDate: =Parent.Default
                        DisplayMode: =Parent.DisplayMode
                        EndYear: =Year(Today())+100
                        Height: |
                            =50
                        IconBackground: =RGBA(128, 128, 128, 1)
                        IsEditable: =true
                        PaddingBottom: =0
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        Size: =16
                        StartYear: =1899
                        Tooltip: =Parent.DisplayName
                        Width: =(Parent.Width - 60) / 2
                        X: =30
                        Y: =DataCardKey2.Y + DataCardKey2.Height + 5
                        ZIndex: =2

                    HourValue1 As dropdown:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        ChevronBackground: =RGBA(128, 128, 128, 1)
                        Default: =Text(Hour(Parent.Default),"00")
                        DisplayMode: =Parent.DisplayMode
                        Height: |
                            =50
                        Items: =["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"]
                        PaddingBottom: =5
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        PaddingRight: =5
                        PaddingTop: =5
                        Size: =16
                        Tooltip: =Parent.DisplayName
                        Width: =DateValue1.Width / 2 - 10
                        X: =DateValue1.X + DateValue1.Width + 10
                        Y: =DateValue1.Y
                        ZIndex: =3

                    Separator3 As label:
                        Align: =Align.Center
                        FontWeight: =FontWeight.Bold
                        Height: =HourValue1.Height
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =21
                        Text: |-
                            =":"
                        Width: =10
                        Wrap: =false
                        X: =HourValue1.X + HourValue1.Width
                        Y: =HourValue1.Y
                        ZIndex: =4

                    MinuteValue1 As dropdown:
                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                        ChevronBackground: =RGBA(128, 128, 128, 1)
                        Default: =Text(Minute(Parent.Default),"00")
                        DisplayMode: =Parent.DisplayMode
                        Height: |
                            =50
                        Items: =["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"]
                        PaddingBottom: =5
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        PaddingRight: =5
                        PaddingTop: =5
                        Size: =16
                        Tooltip: =Parent.DisplayName
                        Width: =HourValue1.Width
                        X: =HourValue1.X + HourValue1.Width + Separator3.Width
                        Y: =HourValue1.Y
                        ZIndex: =5

                    ErrorMessage2 As label:
                        AutoHeight: =true
                        Height: =10
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =16
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =HourValue1.Y + HourValue1.Height
                        ZIndex: =6

                    StarVisible2 As label:
                        Align: =Align.Center
                        Height: =DataCardKey2.Height
                        Size: =21
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =DataCardKey2.Y
                        ZIndex: =7

            Container18 As groupContainer.horizontalAutoLayoutContainer:
                FillPortions: =0
                Height: =80
                LayoutGap: =5
                LayoutMinHeight: =50
                LayoutMinWidth: =260
                LayoutMode: =LayoutMode.Auto
                LayoutWrap: =true
                PaddingTop: =10
                ZIndex: =3

                btnSubmit As button:
                    BorderColor: =
                    BorderStyle: =BorderStyle.None
                    Fill: =RGBA(99, 139, 44, 1)
                    FillPortions: =1
                    Height: =56
                    LayoutMinHeight: =70
                    LayoutMinWidth: =150
                    OnSelect: |-
                        =Set(
                            locErrorDateRangeAlreadyExists,
                            false
                        );
                        
                        If(
                            CountRows(
                                Filter(
                                    'Travel Requests',
                                    'Requested By'.'Primary Email' = User().Email && (('Travel Start Date' <= 'Travel Start Date_DataCard1'.Update && 'Travel End Date' >= 'Travel Start Date_DataCard1'.Update) || ('Travel Start Date' <= 'Travel End Date_DataCard1'.Update && 'Travel End Date' >= 'Travel End Date_DataCard1'.Update) || ('Travel Start Date' >= 'Travel Start Date_DataCard1'.Update && 'Travel End Date' <= 'Travel End Date_DataCard1'.Update)) && 'Travel Request Status' <> 'Travel Request Status (Travel Requests)'.Canceled
                                )
                            ) > 0 && frmTravelRequest.Mode = FormMode.New,
                            Set(
                                locErrorDateRangeAlreadyExists,
                                true
                            ),
                            CountRows(
                                Filter(
                                    'Travel Requests',
                                    'Requested By'.'Primary Email' = User().Email && (('Travel Start Date' <= 'Travel Start Date_DataCard1'.Update && 'Travel End Date' >= 'Travel Start Date_DataCard1'.Update) || ('Travel Start Date' <= 'Travel End Date_DataCard1'.Update && 'Travel End Date' >= 'Travel End Date_DataCard1'.Update) || ('Travel Start Date' >= 'Travel Start Date_DataCard1'.Update && 'Travel End Date' <= 'Travel End Date_DataCard1'.Update)) && 'Travel Request' <> galTravelRequests.Selected.'Travel Request' && 'Travel Request Status' <> 'Travel Request Status (Travel Requests)'.Canceled
                                )
                            ) > 0 && frmTravelRequest.Mode = FormMode.Edit,
                            Set(
                                locErrorDateRangeAlreadyExists,
                                true
                            )
                        );
                        If(
                            !locErrorEndDateBeforeStartDate && !locErrorStartDateBeforeCurrent && !locErrorDateRangeAlreadyExists,
                            SubmitForm(frmTravelRequest)
                        )
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =16
                    Text: ="Apply"
                    Visible: =locShowRequestForm
                    Width: =Parent.Width - 2*Self.X
                    X: =78
                    Y: =Parent.Height-Self.Height-20
                    ZIndex: =1

                btnDraft As button:
                    BorderColor: =RGBA(128, 128, 128, 1)
                    BorderThickness: =1
                    Color: =RGBA(128, 128, 128, 1)
                    Fill: =RGBA(255, 255, 255, 1)
                    FillPortions: =1
                    Height: =56
                    LayoutMinHeight: =70
                    LayoutMinWidth: =150
                    OnSelect: |-
                        =If(frmTravelRequest.Mode = FormMode.New,
                        Patch(
                            'Travel Requests',
                            Defaults('Travel Requests'),
                            {
                                'Requested By': DataCardValue3.Selected,
                                'Travel Start Date': 'Travel Start Date_DataCard1'.Update,
                                'Travel End Date': 'Travel End Date_DataCard1'.Update,
                                'Travel Cost': 'Travel Cost_DataCard1'.Update,
                                Purpose: DataCardValue4.Selected,
                                Note: Note_DataCard1.Update,
                                Draft: 'Draft (Travel Requests)'.Yes
                            }
                        );
                        ,Patch(
                            'Travel Requests',
                            galTravelRequests.Selected,
                            {
                                'Requested By': DataCardValue3.Selected,
                                'Travel Start Date': 'Travel Start Date_DataCard1'.Update,
                                'Travel End Date': 'Travel End Date_DataCard1'.Update,
                                'Travel Cost': 'Travel Cost_DataCard1'.Update,
                                Purpose: DataCardValue4.Selected,
                                Note: Note_DataCard1.Update,
                                Draft: 'Draft (Travel Requests)'.Yes
                            }
                        ));
                        Navigate(HomeScreen)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =16
                    Text: ="Draft"
                    Visible: =locShowRequestForm
                    Width: =Parent.Width - 2*Self.X
                    X: =101
                    Y: =Parent.Height-Self.Height-20
                    ZIndex: =2

                btnCancel As button:
                    BorderColor: =RGBA(128, 128, 128, 1)
                    BorderThickness: =1
                    Color: =RGBA(128, 128, 128, 1)
                    Fill: =RGBA(255, 255, 255, 1)
                    FillPortions: =1
                    Height: =56
                    LayoutMinHeight: =70
                    LayoutMinWidth: =150
                    OnSelect: =Set(locShowRequestForm,false); Navigate(HomeScreen)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =16
                    Text: ="Cancel"
                    Visible: =locShowRequestForm
                    Width: =Parent.Width - 2*Self.X
                    X: =101
                    Y: =Parent.Height-Self.Height-20
                    ZIndex: =3

    grpListOfExistingTravelRequest As group:
        Height: =5
        Width: =5
        X: =80
        Y: =80
        ZIndex: =17

        recVerification As rectangle:
            Fill: =RGBA(0, 0, 0, 0.42)
            Height: =Parent.Height
            Visible: =locErrorEndDateBeforeStartDate || locErrorStartDateBeforeCurrent || locErrorDateRangeAlreadyExists 
            Width: =Parent.Width
            ZIndex: =4

        rectListOfExistingTravelRequests As rectangle:
            Fill: =RGBA(255, 255, 255, 1)
            Height: =384
            Visible: =locErrorEndDateBeforeStartDate || locErrorStartDateBeforeCurrent || locErrorDateRangeAlreadyExists
            Width: =If(Parent.Width>800,800,Parent.Width-80)
            X: =(Parent.Width - Self.Width)/2
            Y: =278
            ZIndex: =5

        HtmlText2 As htmlViewer:
            Height: =204
            HtmlText: |-
                ="Errors:<ul>" & If(
                    locErrorStartDateBeforeCurrent,
                    "<li>Travel Start date should not be before Current date.</li>"
                ) & If(
                    locErrorEndDateBeforeStartDate,
                    "<li>Travel End Date should not be before the Travel Start Date.</li>"
                ) & If(locErrorDateRangeAlreadyExists,"
                <li>There is already " & CountRows(
                    Filter(
                        'Travel Requests',
                        'Requested By'.'Primary Email' = User().Email && (('Travel Start Date' <= 'Travel Start Date_DataCard1'.Update && 'Travel End Date' >= 'Travel Start Date_DataCard1'.Update) || ('Travel Start Date' <= 'Travel End Date_DataCard1'.Update && 'Travel End Date' >= 'Travel End Date_DataCard1'.Update) || ('Travel Start Date' >= 'Travel Start Date_DataCard1'.Update && 'Travel End Date' <= 'Travel End Date_DataCard1'.Update))
                    )
                ) & " travel request for the selected date range.</li>")&"
                </ul>"
            Size: =14
            Visible: =locErrorEndDateBeforeStartDate || locErrorStartDateBeforeCurrent || locErrorDateRangeAlreadyExists
            Width: =rectListOfExistingTravelRequests.Width-20
            X: =(Parent.Width - Self.Width)/2
            Y: =302
            ZIndex: =6

        Button1 As button:
            Color: =RGBA(128, 128, 128, 1)
            Fill: =RGBA(230, 230, 230, 1)
            Height: =42
            OnSelect: |-
                =Set(
                    locErrorEndDateBeforeStartDate,
                    false
                );
                Set(
                    locErrorStartDateBeforeCurrent,
                    false
                );
                Set(
                    locErrorDateRangeAlreadyExists,
                    false
                )
            Size: =14
            Text: ="Ok"
            Visible: =locErrorEndDateBeforeStartDate || locErrorStartDateBeforeCurrent || locErrorDateRangeAlreadyExists
            Width: =200
            X: =rectListOfExistingTravelRequests.X+rectListOfExistingTravelRequests.Width/2-Self.Width/2
            Y: =609
            ZIndex: =7

        "Gallery1 As gallery.'BrowseLayout_Vertical_TwoTextVariant_ver4.0'":
            Height: =142
            Items: |-
                =Filter(
                    'Travel Requests',
                    'Requested By'.'Primary Email' = User().Email  && 'Travel Request' <> galTravelRequests.Selected.'Travel Request' && (('Travel Start Date' <= 'Travel Start Date_DataCard1'.Update && 'Travel End Date' >= 'Travel Start Date_DataCard1'.Update) || ('Travel Start Date' <= 'Travel End Date_DataCard1'.Update && 'Travel End Date' >= 'Travel End Date_DataCard1'.Update) || ('Travel Start Date' >= 'Travel Start Date_DataCard1'.Update && 'Travel End Date' <= 'Travel End Date_DataCard1'.Update)) && 'Travel Request Status' <> 'Travel Request Status (Travel Requests)'.Canceled
                )
            Layout: =Layout.Vertical
            TemplatePadding: =0
            TemplateSize: =34
            Visible: =locErrorDateRangeAlreadyExists
            Width: =rectListOfExistingTravelRequests.Width-20
            X: =(Parent.Width - Self.Width)/2
            Y: =467
            ZIndex: =8

            Separator2 As rectangle:
                Height: =1
                OnSelect: =Select(Parent)
                Width: =Parent.TemplateWidth
                Y: =Parent.TemplateHeight - 1
                ZIndex: =4

            Label3_2 As label:
                Height: =31
                Size: =12
                Text: = Text(ThisItem.'Travel Start Date',ShortDate)
                Width: =149
                ZIndex: =6

            Label3_3 As label:
                Height: =31
                Size: =12
                Text: =Text(ThisItem.'Travel End Date',ShortDate)
                Width: =202
                Wrap: =false
                X: =149
                ZIndex: =7

            Label3_4 As label:
                Height: =31
                Size: =12
                Text: = ThisItem.Purpose.Name
                Width: =92
                X: =315
                ZIndex: =8

            Label3_5 As label:
                Height: =31
                Size: =12
                Text: = ThisItem.'Travel Request Status'
                Width: =92
                X: =407
                ZIndex: =9

            Icon2 As icon.Cancel:
                Color: =RGBA(246, 88, 16, 1)
                Height: =19
                Icon: =Icon.Cancel
                OnSelect: |-
                    =Patch(
                        'Travel Requests',
                        ThisItem,
                        {'Travel Request Status': 'Travel Request Status (Travel Requests)'.Canceled}
                    )
                Width: =27
                X: =499
                Y: =6
                ZIndex: =10

        Rectangle2 As rectangle:
            DisplayMode: =DisplayMode.View
            Fill: =RGBA(128, 128, 128, 1)
            Height: =31
            Visible: =locErrorDateRangeAlreadyExists
            Width: =rectListOfExistingTravelRequests.Width-20
            X: =(Parent.Width - Self.Width)/2
            Y: =434
            ZIndex: =9

        lblStartDate As label:
            Height: =31
            Size: =14
            Text: ="Start Date"
            Visible: =locErrorDateRangeAlreadyExists
            Width: =163
            X: =Rectangle2.X+10
            Y: =434
            ZIndex: =10

        Label3_1 As label:
            Height: =31
            Size: =14
            Text: ="End Date"
            Visible: =locErrorDateRangeAlreadyExists
            Width: =155
            X: =Rectangle2.X+150
            Y: =434
            ZIndex: =11

        Label3_6 As label:
            Height: =31
            Size: =14
            Text: ="Purpose"
            Visible: =locErrorDateRangeAlreadyExists
            Width: =93
            X: =Rectangle2.X+310
            Y: =434
            ZIndex: =12

        Label3_7 As label:
            Height: =31
            Size: =14
            Text: ="Status"
            Visible: =locErrorDateRangeAlreadyExists
            Width: =121
            X: =Rectangle2.X+410
            Y: =434
            ZIndex: =13

